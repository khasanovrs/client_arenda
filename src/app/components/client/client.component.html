<div class="---page-clients">

  <div class="---tabs ---tabs--finance">
    <div class="---tabs__switchers-wrapper ---d-flex ---align-items-center ---justify-content-between">
      <div class="---tabs__switchers ---h1 ---font-light ---d-flex">
        <div class="---tabs__switcher ---is-active" (click)="changeTypeClients('all')">Все клиенты</div>
        <div class="---tabs__switcher" (click)="changeTypeClients('ur')">Юр. лица</div>
        <div class="---tabs__switcher" (click)="changeTypeClients('fiz')">Физ. лица</div>
      </div>
    </div>

    <div class="---h-filters-wrapper ---d-flex ---justify-content-between ---align-items-start">

      <div class="---d-flex ---form ---align-items-start">
        <div class="---filters ---js-toggle-show ---radius-5 ---d-inline-flex ---align-items-center"
             (click)="changeShowFilters()">
          Фильтры
          <i class="ifont ---icon-menu-finance ---d-none ---sm-d-flex"></i>
        </div>

        <div class="---filters ---js-toggle-show ---radius-5 ---d-inline-flex ---align-items-center"
             (click)="changeActiveFields()">
          Активные поля
          <i class="ifont ---icon-list ---d-none ---sm-d-flex"></i>
        </div>

        <div class="---search ---field ---pos-rel">
          <input class="---input" placeholder="Поиск по клиентам" [(ngModel)]="filters.like"
                 (keyup)="getClients()">
          <button class="---y-pos-abs ifont ---icon-loop"></button>
        </div>
      </div>

      <a href="#" class="---btn ---btn--fill-acent">Добавить клиента</a>

    </div>

    <div *ngIf="showFilters" class="---block--bg-white ---block-filter ---radius-5 ---form">
      <div class="---row">
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Статус заказа</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Даты заказа</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Тип изделия</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Менеджер</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Статус заказа</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Даты заказа</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Тип изделия</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Менеджер</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
      </div>

      <div class="---btns ---d-flex">
        <a href="#" class="---btn ---btn--fill-acent">Применить фильтры</a>
        <a href="#" class="---btn ---btn--border-bg">
          Сбросить фильры
          <i class="ifont ---icon-close"></i>
        </a>
      </div>
    </div>

    <div *ngIf="showActiveFields" id="active-field" class=" ---block--bg-white ---block-filter ---radius-5 ---form">
      <div class="---row">
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Статус заказа</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Даты заказа</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Тип изделия</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Менеджер</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Статус заказа</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Даты заказа</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Тип изделия</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
        <div class="---field ---col-12 ---col-sm-6 ---col-lg-3">
          <label>Менеджер</label>
          <div class="---select">
            <select class="---select__cur-value">
              <option value="">Электроинструменты 1</option>
              <option value="">Электроинструменты 2</option>
              <option value="">Электроинструменты 3</option>
              <option value="">Электроинструменты 4</option>
              <option value="">Электроинструменты 5</option>
            </select>
          </div>
        </div>
      </div>

      <div class="---btns ---d-flex">
        <a href="#" class="---btn ---btn--fill-acent">Применить фильтры</a>
        <a href="#" class="---btn ---btn--border-bg">
          Сбросить фильры
          <i class="ifont ---icon-close"></i>
        </a>
      </div>
    </div>

    <div class="---tabs__tab ---is-visible" data-tab="1">

      <div class="---t-wrapper">
        <table>
          <tr>
            <th><label class="---checkbox"></label></th>
            <th>Наименование организации</th>
            <th>ФИО</th>
            <th>номер телефона</th>
            <th>Статус</th>
            <th>Добавлен</th>
            <th>Последний конт.</th>
            <th>Источник</th>
            <th>Прокатов</th>
            <th>Доход</th>
            <th>Скидка</th>
          </tr>

          <tr *ngFor="let client of clients | paginate: { itemsPerPage: 10, currentPage: p }">
            <td><label class="---checkbox"></label></td>
            <td>{{client.org}}</td>
            <td>{{client.fio}}</td>
            <td>{{client.phone | telephoneNumber}}</td>
            <td>
              <div [ngClass]="{
              '---purple':client.status===1,
              '---dark':client.status===2,
              '---dark-red':client.status===3,
              '---light-red':client.status===4
              }" class="---select ---bg-color select-png bg-white">
                <select class="---select__cur-value w-200"
                        (change)="changeStatus(client)"
                        [(ngModel)]="client.status">
                  <option class="---select__list-item" *ngFor="let status of statusList" [ngValue]="status.val">
                    {{status.name}}
                  </option>
                </select>
              </div>
            </td>
            <td>{{client.date_create}}</td>
            <td>{{client.last_contact}}</td>
            <td>{{client.source.name}}</td>
            <td>{{client.rentals}}</td>
            <td>
              <div class="---font-sbold">{{client.dohod| digitsNumbers}} ₽</div>
            </td>
            <td>
              <div class="---font-sbold">{{client.sale}} %</div>
            </td>
          </tr>
        </table>
      </div>

      <div
        class="---block--bg-white ---block-pagination ---d-flex ---align-items-center ---justify-content-between ---radius-5">
        <pagination-controls previousLabel='' nextLabel="" (pageChange)="p = $event"></pagination-controls>

        <div>Всего клиентов — <span class="---font-sbold">{{clients.length | digitsNumbers}}</span></div>
      </div>
    </div>
  </div>

</div>
